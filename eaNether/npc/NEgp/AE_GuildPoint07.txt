gp07,161,132,5	script	Hermann#gp07	468,{
	mes "^0000FF[Hermann]^000000";
	if(countitem(23012) < 1){
		getitem 23012,1;
	}
	mes "Saudações, car"+((Sex)?"o ^0000FF":"a ^FF0000")+strcharinfo(0)+"^000000.";
	if(GetGuildMaster($GP07) == strcharinfo(0)){
		mes "O que posso fazer por você, "+((Sex)?"meu ^0000FFLíder":"minha ^0000FFLíder")+"^000000";
		next;
		
		switch(select("• Reunir a ^0000FFGuilda^000000","• Enviar aviso para o ^0000FFQuartel^000000","• Abrir ou Fechar Portões","• Cancelar")){
			case 1:
				if(agitcheck()){
					mes "^0000FF[Hermann]^000000";
					mes "Desculpe, não posso fazê-lo durante a ^0000FFGuerra^000000, senhor"+((Sex)?"":"ita")+".";
					close;
				}
				mes "^0000FF[Hermann]^000000";
				mes "Tem certeza que deseja reunir a ^0000FFGuilda^000000?";
				switch(select("• Sim","• Cancelar")){
					case 1:
						mes "Atenção, todos vocês serão reunidos.";
						close2;
						atcommand "@guildrecall "+getguildname($GP07)+"";
						end;
						
					case 2:	
						mes "^0000FF[Hermann]^000000";
						mes "Às ordens, senhor"+((Sex)?"":"ita")+".";
						close;				
				}
				
			case 2:
				mes "^0000FF[Hermann]^000000";
				mes "O que gostaria de anunciar, senhor"+((Sex)?"":"ita")+"?";
				input @gp07announce$;
				
				mapannounce "gp07",""+strcharinfo(0)+": "+@gp07announce$+"",0,0x00FF00;
				mes "Feito!";
				close;
			
			case 3:
				mes "^0000FF[Hermann]^000000";
				mes "Como deseja manter o ^0000FFStatus^000000 de vosso ^0000FFQuartel General^000000?";
				switch(select("• ^0000FFAberto^000000","• ^FF0000Fechado^000000")){
					case 1:
						set $GP07ST$, "^0000FFAberto^000000";
						mes "Concluído.";
						close;
							
					case 2:
						set $GP07ST$, "^FF0000Fechado^000000";
						mes "Concluído.";
						close;				
					}					
			
			case 4:
				mes "^0000FF[Hermann]^000000";
				mes "Às ordens, senhor"+((Sex)?"":"ita")+".";
				close;
		}
	}
	close;
}

gp07,178,125,3	script	Alyssa#gp07	529,{
	cutin "jpn_spica01",2;
	mes "^FF0000[Alyssa]^000000";
	mes "Saudações, car"+((Sex)?"o ^0000FF":"a ^FF0000")+strcharinfo(0)+"^000000.";
	if(GetGuildMaster($GP07) == strcharinfo(0)){
		mes "Sou responsável por provir à você, car"+((Sex)?"o ^0000FF":"a ^FF0000")+"Líder^000000, acesso ao ^0000FFAsenal^000000";
		mes "O que gostaria de verificar?";
		next;
		
		switch(select("• Consumíveis Especiais","• Equipamentos e Suprimentos","• Cancelar")){
			case 1:
				mes "^FF0000[Alyssa]^000000";
				if($GP07A < 1 && $GP07B < 1 && $GP07C < 1 && $GP07D < 1 && $GP07E < 1 && $GP07F < 1){
					mes "Não há ^0000FFItens^000000 disponíveis nesta categoria.";
					close2;
					cutin "",255;
					end;
				}
				mes "No momento, temos os seguintes números para cada um destes ^0000FFItens^000000.";
				next;
				
				switch(select("• Pacote do Deus Odin × ^0000FF"+$GP07A+"^000000","• Manual de Combate × ^0000FF"+$GP07B+"^000000","• Goma de Mascar × ^0000FF"+$GP07C+"^000000","• Bênção de Valhalla de Guildas × ^0000FF"+$GP07D+"^000000","• Pacote de Suprimentos de Guerra A ×  ^0000FF"+$GP07E+"^000000","• Pacote de Suprimentos de Guerra B × ^0000FF"+$GP07F+"^000000","• Cancelar")){
					case 1:
						mes "^FF0000[Alyssa]^000000";
						if($GP07A < 1){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", não há mais unidades deste ^0000FFItem^000000";
							close2;
							cutin "",255;
							end;
						}
						mes "Quantos ^0000FFPacotes do Deus Odin^000000 deseja retirar?";
					
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07A){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07A, $GP07A - @gpqt;
						getitem 13638,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;
						
					case 2:
						mes "^FF0000[Alyssa]^000000";
						if($GP07B < 1){
							mes "Perdão, senhor, não há mais unidades deste ^0000FFItem^000000";
							close2;
							cutin "",255;
							end;
						}
						mes "Quantos ^0000FFManuais de Combate^000000 deseja retirar?";
						
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07B){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07B, $GP07B - @gpqt;
						getitem 12208,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;
						
					case 3:
						mes "^FF0000[Alyssa]^000000";
						if($GP07C < 1){
							mes "Perdão, senhor, não há mais unidades deste ^0000FFItem^000000";
							close2;
							cutin "",255;
							end;
						}
						mes "Quantas ^0000FFGomas de Mascar^000000 deseja retirar?";
						
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07C){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07C, $GP07C - @gpqt;
						getitem 12210,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;
						
					case 4:
						mes "^FF0000[Alyssa]^000000";
						if($GP07D < 1){
							mes "Perdão, senhor, não há mais unidades deste ^0000FFItem^000000";
							close2;
							cutin "",255;
							end;
						}
						mes "Quantas ^0000FFBênçãos de Valhalla de Guildas^000000 deseja retirar?";
					
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07D){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07D, $GP07D - @gpqt;
						getitem 20013,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;
						
					case 5:
						mes "^FF0000[Alyssa]^000000";
						if($GP07E < 1){
							mes "Perdão, senhor, não há mais unidades deste ^0000FFItem^000000";
							close2;
							cutin "",255;
							end;
						}
						mes "Quantos ^0000FFPacotes de Suprimentos de Guerra A^000000 deseja retirar?";
					
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07E){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07E, $GP07E - @gpqt;						
						getitem 23010,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;

					case 6:
						mes "^FF0000[Alyssa]^000000";
						if($GP07F < 1){
							mes "Perdão, senhor, não há mais unidades deste ^0000FFItem^000000";
							close2;
							cutin "",255;
							end;
						}
						mes "Quantos ^0000FFPacotes de Suprimentos de Guerra B^000000 deseja retirar?";
					
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07F){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07F, $GP07F - @gpqt;						
						getitem 23011,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;
						
					case 7:
						close2;
						cutin "",255;
						end;
				}
			
			case 2:
				mes "^FF0000[Alyssa]^000000";
				mes "Esses são ^0000FFPacotes^000000 de ^0000FFEquipamentos^000000 temporários, eles durarão ^0000FF15^000000 dias.";
				mes "É possível retirar ainda ^0000FF"+$GP07G+"^000000 unidades.";
				next;
				
				switch(select("• Pacote de Equipamentos de Guerra A","• Pacote de Equipamentos de Guerra B","• Cancelar")){
					case 1:
						mes "^FF0000[Alyssa]^000000";
						mes "Quantos ^0000FFPacotes de Equipamentos de Guerra A^000000 deseja retirar?";
					
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07G){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07G, $GP07G - @gpqt;						
						getitem 23008,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;
						
					case 2:
						mes "^FF0000[Alyssa]^000000";
						mes "Quantos ^0000FFPacotes de Equipamentos de Guerra B^000000 deseja retirar?";
					
						input @gpqt;
						if(@gpqt < 1 || @gpqt > $GP07G){
							mes "Perdão, senhor"+((Sex)?"":"ita")+", valor inválido.";
							close2;
							cutin "",255;
							end;
						}
						set $GP07G, $GP07G - @gpqt;						
						getitem 23009,@gpqt;
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;					
					
					case 3:
						mes "^FF0000[Alyssa]^000000";
						mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
						close2;
						cutin "",255;
						end;					
				}
			
			case 3:
				mes "^FF0000[Alyssa]^000000";
				mes "Volte sempre que precisar, senhor"+((Sex)?"":"ita")+".";
				close2;
				cutin "",255;
				end;
		}
	}
	close2;
	cutin "",255;
	end;
}

gp07,167,121,0	script	Buffer#gp07	-1,4,4,{

OnTouch:
	if (getgmlevel() > 0) { 		
		// • Bênção	
			sc_start 30,600000,10;
			skilleffect 34,0;
			percentheal 100,100;

		// • Aumentar Agilidade
			sc_start 32,600000,10;
			skilleffect 29,0;
			percentheal 100,100;

		// • Magnificat
			sc_start 40,600000,10;
			skilleffect 74,0;
			percentheal 100,100;

		// • Glória
			sc_start 41,600000,10;
			skilleffect 75,0;
			percentheal 100,100;

		// • Debuffs
			sc_end	SC_Poison;
			sc_end	SC_Silence;
			sc_end	SC_Blind;
			sc_end	SC_Confusion;
			sc_end	SC_Curse;
			sc_end	SC_Hallucination;
			percentheal 100,100;
	}
	end;	
}

gp07,178,129,3	script	Estilista#gp07	602,{
	mes "^FF0000[Diana]^000000";
	mes "Olá, eu sou a maior ^0000FFEstilista de toda ^0000FFMidgard^000000!";
	next;
	if(AE_MColorida > 0){
		mes "^FF0000[Diana]^000000";
		mes "Mas, você à serviço de ^0000FFClodovaiver^000000, não posso te ajudar.";
		close;
	}
	mes "^FF0000[Diana]^000000";
	mes "Eu posso oferecer meus serviços a você, porém, apenas os ^0000FFAbençoados por Valhalla^000000 me permitem usar toda a minha capacidade.";
	mes "De qualquer forma, em que posso ajudá-lo?";
	if(select("• Estilo do Cabelo","• Cor do Cabelo","• Cor das Roupas","• Cancelar") == 4) close;
	if(getgmlevel() < 1){
		if(@menu == 1) setarray .@cor[0],1,1,27;
		if(@menu == 2) setarray .@cor[0],6,1,50;
		if(@menu == 3) setarray .@cor[0],7,1,77;
	}
	if(getgmlevel() > 0){
		if(@menu == 1) setarray .@cor[0],1,1,48;
		if(@menu == 2) setarray .@cor[0],6,1,251;
		if(@menu == 3) setarray .@cor[0],7,1,553;
	}
	while(1) {
		if(getlook(.@cor[0]) < .@cor[2]){
			set @cornext, getlook(.@cor[0]) + 1;
		} 	
		if(getlook(.@cor[0]) == .@cor[2]){
			set @cornext,1;
		}
		if(getlook(.@cor[0]) > 0){
			set @corprev, getlook(.@cor[0]) - 1;
		}
		if(getlook(.@cor[0]) == 0){
			set @corprev, .@cor[2];
		}
		if(select("• Próximo - ^0000FF"+@cornext+"^000000","• Anterior - ^FF0000"+@corprev+"^000000","• Digitar","• Cancelar") == 4) close;
		if(@menu == 1){
			if(getlook(.@cor[0]) >= .@cor[2]) setlook .@cor[0],.@cor[1];
			else setlook .@cor[0],getlook(.@cor[0])+1;
		}
		if(@menu == 2){
			if(getlook(.@cor[0]) <= .@cor[1]) setlook .@cor[0],.@cor[2];
			else setlook .@cor[0],getlook(.@cor[0])-1;
		}
		if(@menu == 3){
			input .@num,.@cor[1],.@cor[2];
			setlook .@cor[0],.@num;
		}
		mes "Número ^FF0000"+getlook(.@cor[0])+"^000000/"+.@cor[2];
		specialeffect2 223;		
	}
}

gp07,178,133,3	shop	Comerciante#gp07	900,601:-1,611:-1,501:-1,502:-1,503:-1,504:-1,506:-1,602:-1,645:-1,656:-1

gp07,157,133,5	script	Mestre-Ferreiro#gp07	404,{

// Capacidade de Refine dos equipamentos. Padrão é até +10.
set $REF_Max,10;

// Array de chances para Equipamentos:
setarray $REF_Equip[0],100,100,100,100, 60, 40, 40, 20, 20, 10;

// Array de chances para Armas Lv. 1:
setarray $REF_Weap1[0],100,100,100,100,100,100,100, 60, 40, 20;

// Array de chances para Armas Lv. 2:
setarray $REF_Weap2[0],100,100,100,100,100,100, 60, 40, 20, 20;

// Array de chances para Armas Lv. 3:
setarray $REF_Weap3[0],100,100,100,100,100, 60, 50, 20, 20, 20;

// Array de chances para Armas Lv. 4:
setarray $REF_Weap4[0],100,100,100,100, 60, 40, 40, 20, 20, 10;

// Array dos IDs dos itens necessários para cada nível.
// Modelo: Armadura, Armas Lvl 1, Lvl 2, Lvl 3, Lvl 4, Zenys.
setarray $REF_Itens[0],985,1010,1011,984,984,2000;

// Nível de GM para usar.
set $REF_GM,1;

// Nome do NPC.
set @n$,"^0000FF[Hefesto]^000000";

mes @n$;
mes "Olá, jovem aventureir" + ((Sex)?"o":"a") + "!";
if(getgmlevel() < 1){
	mes "Infelizmente, trabalho apenas para abençoados de ^0000FFValhalla^000000";
	close;
}
mes "Em que posso te ajudar?";
switch(select("• Refinar Equipamentos","• Reparar Equipamentos","• Comprar Materiais","• Trocar Minérios","• Cancelar")){
	case 1:
		callfunc "Refine_Check";
	
		next;	
		mes @n$;
		mes "Isso custará "+(($REF_Itens[5]) ? "^000000^0000FF" + $REF_Itens[5] + "^000000z e mais:" : "^000000");
		mes "• Equipamentos:^0000FF " + (($REF_Itens[0]) ? "1^000000 × ^0000FF" + getitemname($REF_Itens[0]) : "Nada^000000");
		mes "^000000• Armas Nível 1:^0000FF " + (($REF_Itens[1]) ? "1^000000 × ^0000FF" + getitemname($REF_Itens[1]) : "Nada^000000");
		mes "^000000• Armas Nível 2:^0000FF " + (($REF_Itens[2]) ? "1^000000 × ^0000FF" + getitemname($REF_Itens[2]) : "Nada^000000");
		mes "^000000• Armas Nível 3:^0000FF " + (($REF_Itens[3]) ? "1^000000 × ^0000FF" + getitemname($REF_Itens[3]) : "Nada^000000");
		mes "^000000• Armas Nível 4:^0000FF " + (($REF_Itens[4]) ? "1^000000 × ^0000FF" + getitemname($REF_Itens[4]) : "Nada^000000");
	
		RefineMenu:
		set .@eq,select(callfunc("Refine_Check"));
		next;
		mes @n$;
	
		while(1){
			if(!getequipisequiped(.@eq)) callfunc "Refine_Error",1;
			if(!getequipisenableref(.@eq)) callfunc "Refine_Error",2;
			if(!getequipisidentify(.@eq)) callfunc "Refine_Error",3;
			if(getequiprefinerycnt(.@eq) >= $REF_Max) callfunc "Refine_Error",4;
			if(!countitem($REF_Itens[getequipweaponlv(.@eq)]) || Zeny < $REF_Itens[5]) callfunc "Refine_Error",5;
			mes "Muito bem, o que";
			mes "deseja fazer?";
			set .@cont,callfunc ("Refine_While",select(((.@cont)?((getequippercentrefinery(.@eq) == 100)?"":"• Continuar refinando."):((getequippercentrefinery(.@eq) == 100)?"":"• Refinar")),((getequippercentrefinery(.@eq) == 100)?"• Refinar até o Nível Seguro.":""),"• Cancelar."),getequipweaponlv(.@eq),.@eq);
				if(.@count) CallSub "RefineMenu";
		}
			close;
		
	case 2:
		next;
		mes @n$;
		mes "Isso custará ^0000FF10^000000.^0000FF000^000000z, deseja prosseguir?";
		switch(select("• Sim","• Não")){
		case 1:
			next;
			mes @n$;
			
			if(zeny < 10000){
				mes "Você não tem Zenys o suficiente.";
				close;
			}	
			getinventorylist;
			if (getbrokenid(1)!=NULL){ 
				set Zeny, Zeny - 10000;
				atcommand "@repairall";
			
				mes "Conserto feito com perfeição!";
				close;
			}
			mes "Você não precisa de nenhum conserto.";
			close;	
		case 2:
			close;
		}
	
	case 3:
		next;
		mes @n$;
		mes "O que você procura?";
		switch(select("• Bigornas","• Itens de Forja","• Metais","• Cancelar")){
			case 1:
				next;
				mes @n$;
				mes "Que tipo gostaria de adquirir?";
				switch(select("• Bigorna - ^0000FF30,000^000000z","• Bigorna de Oridecon - ^0000FF120,000^000000z","• Bigorna de Ouro - ^0000FF300,000^000000z","• Cancelar")){
					case 1:
						next;
						mes @n$;
						if(Zeny < 30000){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 986,1;
						set Zeny, zeny - 30000;
						mes "Aqui está.";
						close;
						
					case 2:
						next;
						mes @n$;
						if(Zeny < 120000){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 987,1;
						set Zeny, zeny - 120000;
						mes "Aqui está.";
						close;
	
					case 3:
						next;
						mes @n$;
						if(Zeny < 300000){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 988,1;
						set Zeny, zeny - 300000;						
						mes "Aqui está.";
						close;
						
					case 4:
						close;
				}
			case 2:
				next;
				mes @n$;
				mes "Que tipo gostaria de adquirir?";
				switch(select("• Mini Fornalha - ^0000FF150^000000z","• Martelo de Ferro - ^0000FF1000^000000z","• Martelo de Ouro - ^0000FF3000^000000z","• Martelo de Oridecon - ^0000FF5000^000000z","• Cancelar")){
					case 1:
						next;
						mes @n$;
						mes "Lembrando que você precisa não estar sobrecarregado em relação ao peso que carrega, qual quantidade gostaria?";
						input @qt;
						
						next;
						mes @n$;
						if(Zeny < (@qt*150)){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 612,@qt;
						set Zeny, zeny - 150*@qt;
						mes "Aqui está.";
						close;
						
					case 2:
						next;
						mes @n$;
						mes "Lembrando que você precisa não estar sobrecarregado em relação ao peso que carrega, qual quantidade gostaria?";
						input @qt;
						
						next;
						mes @n$;
						if(Zeny < (@qt*1000)){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 613,@qt;
						set Zeny, zeny - 1000*@qt;						
						mes "Aqui está.";
						close;
	
					case 3:
						next;
						mes @n$;
						mes "Lembrando que você precisa não estar sobrecarregado em relação ao peso que carrega, qual quantidade gostaria?";
						input @qt;
						
						next;
						mes @n$;
						if(Zeny < (@qt*3000)){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 614,@qt;
						set Zeny, zeny - 3000*@qt;
						mes "Aqui está.";
						close;
	
					case 4:
						next;
						mes @n$;
						mes "Lembrando que você precisa não estar sobrecarregado em relação ao peso que carrega, qual quantidade gostaria?";
						input @qt;
						
						next;
						mes @n$;
						if(Zeny < (@qt*5000)){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 615,@qt;
						set Zeny, zeny - 5000*@qt;						
						mes "Aqui está.";
						close;
					
					case 5:
						close;
				}
			case 3:
				next;
				mes @n$;
				mes "Que tipo gostaria de adquirir?";		
				switch(select("• Fracon","• Emveretarcon","• Cancelar")){
					case 1:
						next;
						mes @n$;
						mes "Lembrando que você precisa não estar sobrecarregado em relação ao peso que carrega, qual quantidade gostaria?";
						input @qt;
						
						next;
						mes @n$;
						if(Zeny < (@qt*200)){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 1010,@qt;
						set Zeny, zeny - 200*@qt;						
						mes "Aqui está.";
						close;
						
					case 2:
						next;
						mes @n$;
						mes "Lembrando que você precisa não estar sobrecarregado em relação ao peso que carrega, qual quantidade gostaria?";
						input @qt;
						
						next;
						mes @n$;
						if(Zeny < (@qt*1000)){
							mes "Você não tem Zenys o suficiente";
							close;
						}
						getitem 1011,@qt;
						set Zeny, zeny - 1000*@qt;
						mes "Aqui está.";
						close;
						
					case 3:
						close;
				}
			case 4:
				close;
		}	
				
	case 4:
		next;
		mes @n$;		
		mes "Para cada ^0000FF5 Minérios^000000 que você tiver, eu purificarei para uma ^0000FFPedra Fundamental^000000, o que deseja trocar?";
		switch(select("• Purificar Oridecon","• Purificar Elunium","• Cancelar")){
			case 1:
				set @qt2,countitem(756);
				if(@qt2 < 5){
					next;
					mes @n$;
					mes "Você não tem o mínimo de ^0000FFMinérios^000000 para uma purificação.";
					close;
				}
				set @qt, @qt2-(@qt2%5);
				delitem 756,@qt;
				getitem 984,@qt/5;
				mes "Purificação concluída.";
				close;
			
			case 2:			
				set @qt2,countitem(757);
				if(@qt2 < 5){
					next;
					mes @n$;
					mes "Você não tem o mínimo de ^0000FFMinérios^000000 para uma purificação.";
					close;
				}
				set @qt, @qt2-(@qt2%5);
				delitem 757,@qt;
				getitem 985,@qt/5;
				mes "Purificação concluída.";
				close;
		}
	case 5:
		close;
	}
}

gp07,157,129,5	script	Arthos, O Feiticeiro#g7	421,{
if (getgmlevel() > 0){
	set .@atrib,70000;
	set .@habil,70000;
	set .@ambos,120000;
}
if (getgmlevel() < 1){
	set .@atrib,1500000;	
	set .@habil,1500000;
	set .@ambos,2500000;
}
	mes "^0000FF[Arthos]^000000";
	mes "Eu sou ^0000FFArthos^000000, um antigo feiticeiro.";
	mes "Eu tenho o dom de fazer as pessoas esquecerem tudo que aprenderam. Mas não se assuste, o ^0000FFOblívio^000000 ajuda a aprender tudo de forma mais eficaz.";
	next;
	
	mes "^0000FF[Arthos]^000000";
	mes "Para usar meus serviços, cobro as seguintes taxas:";
	mes "• Reiniciar Habilidades: ^0000FF"+.@habil+"^000000z";
	mes "• Reiniciar Atributos: ^0000FF"+.@atrib+"^000000z";
	mes "• Reciniciar Ambos: ^0000FF"+.@ambos+"^000000z";
	next;
	switch(select("• Reiniciar Habilidades","• Reiniciar Atributos","• Reinciar Ambos","• Cancelar")){
		if(@menu == 4) close;
		mes "^0000FF[Arthos]^000000";
		case 1:
			callsub CheckZeny,.@habil;
			mes "Oblivium!";
			mes "Oblivium!";
			specialeffect2 339;
			mes "Feito. Espero que esse novo começo o ajude.";
			ResetSkill;
			close;
		case 2:
			callsub CheckZeny,.@atrib;
			break;
		case 3:
			callsub CheckZeny,.@ambos;
			ResetSkill;
			break;
	}
	ResetStatus;
	npctalk "Oblivium!";
	mes "Oblivium!";
	specialeffect2 339;
	mes "Feito. Espero que esse novo começo o ajude.";
	close;

CheckZeny:
	if(Zeny < getarg(0)){
		mes "Me perdoe, mas meus serviços têm um preço, volte quando puder pagá-lo.";
		close;
	}
	set Zeny,zeny-getarg(0);
	return;
}

gp07,157,125,5	script	Fleur#gp07	894,{
	callfunc "FuncFleur","Fleur","prontera",156,195;
}

gp07,52,109,5	script	Bandeira#0701::GP07Flag	722,{
	if(getgmlevel() == 99){
		FlagEmblem $GP07;
		end;
	}
	end;
	
OnGPFlag:
OnInit:
	FlagEmblem $GP07;
	end;
}

gp07,52,103,5	duplicate(GP07Flag)	Bandeira#0702	722
gp07,52,98,5	duplicate(GP07Flag)	Bandeira#0703	722
gp07,52,92,5	duplicate(GP07Flag)	Bandeira#0704	722
gp07,52,87,5	duplicate(GP07Flag)	Bandeira#0705	722
gp07,52,81,5	duplicate(GP07Flag)	Bandeira#0706	722
gp07,52,76,5	duplicate(GP07Flag)	Bandeira#0707	722
gp07,52,70,5	duplicate(GP07Flag)	Bandeira#0708	722

gp07,67,109,3	duplicate(GP07Flag)	Bandeira#0709	722
gp07,67,103,3	duplicate(GP07Flag)	Bandeira#0710	722
gp07,67,98,3	duplicate(GP07Flag)	Bandeira#0711	722
gp07,67,92,3	duplicate(GP07Flag)	Bandeira#0712	722
gp07,67,87,3	duplicate(GP07Flag)	Bandeira#0713	722
gp07,67,81,3	duplicate(GP07Flag)	Bandeira#0714	722
gp07,67,76,3	duplicate(GP07Flag)	Bandeira#0715	722
gp07,67,70,3	duplicate(GP07Flag)	Bandeira#0716	722

gp07,55,133,5	duplicate(GP07Flag)	Bandeira#0717	722
gp07,64,133,3	duplicate(GP07Flag)	Bandeira#0718	722

gp07,157,136,4	duplicate(GP07Flag)	Bandeira#0719	722
gp07,178,136,4	duplicate(GP07Flag)	Bandeira#0720	722

gp07,44,32,4	duplicate(GP07Flag)	Bandeira#0721	722
gp07,59,32,4	duplicate(GP07Flag)	Bandeira#0722	722


gp07,58,135,0	script	gp07warp#01	45,3,3,{
	end;
	
OnTouch:	
	if (getcharid(2) == $GP07){
		warp "gp07",166,69;
		end;
	}
	dispbottom "- Você não tem permissão para adentrar os interiores do Quartel General.";
	end;
}

gp07,61,135,0	script	gp07warp#02	45,3,3,{
	end;
	
OnTouch:	
	if (getcharid(2) == $GP07){
		warp "gp07",169,69;
		end;
	}
	dispbottom "- Você não tem permissão para adentrar os interiores do Quartel General.";
	end;
}

gp07,166,64,0	warp	gp07warp#03	3,3,gp07,58,131
gp07,169,64,0	warp	gp07warp#04	3,3,gp07,61,131
gp07,166,150,0	warp	gp07warp#05	3,3,gp07,51,12
gp07,169,150,0	warp	gp07warp#06	3,3,gp07,51,12
gp07,50,7,0	warp	gp07warp#07	3,3,gp07,167,145
gp07,53,7,0	warp	gp07warp#08	3,3,gp07,167,145
gp07,58,65,0	warp	gp07warp#09	3,3,prontera,150,150
gp07,61,65,0	warp	gp07warp#10	3,3,prontera,150,150